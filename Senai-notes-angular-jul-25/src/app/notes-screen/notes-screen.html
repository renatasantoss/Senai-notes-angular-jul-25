<div class="notes-app">
  <!-- Sidebar -->
  <aside class="sidebar">
    <button class="btn-create" (click)="createNew()">+ Create New Note</button>

    <div class="notes-list">
      <div
        class="note-item"
        *ngFor="let n of notes"
        [class.active]="selectedNote?.id === n.id"
        (click)="selectNote(n)">
        <div class="thumb">
          <!-- placeholder thumbnail -->
          <div class="thumb-placeholder" *ngIf="!n.thumbnail">{{ n.title.charAt(0) }}</div>
        </div>
        <div class="meta">
          <div class="note-title">{{ n.title }}</div>
          <div class="note-tags" *ngIf="n.tags?.length">{{ tagsString(n) }}</div>
          <div class="note-date">{{ n.date }}</div>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main content -->
  <main class="content">
    <div *ngIf="selectedNote; else emptyState" class="note-view">
      <div class="cover">
        <!-- imagem de capa simples -->
        <div class="cover-image">
          <!-- Pode usar [style.backgroundImage] para usar selectedNote.cover -->
          <svg viewBox="0 0 800 150" preserveAspectRatio="none" class="svg-cover">
            <rect width="100%" height="100%" fill="#0f172a"></rect>
            <g fill="#0ea5e9" font-size="48" font-family="monospace">
              <text x="30" y="90">React</text>
            </g>
          </svg>
        </div>
      </div>

      <div class="note-head">
        <h1 class="note-title-display">{{ selectedNote.title }}</h1>

        <div class="note-meta-row">
          <div class="tags">
            <span class="tag" *ngFor="let t of selectedNote.tags">{{ t }}</span>
          </div>
          <div class="last-edited">Last edited <strong>{{ selectedNote.date }}</strong></div>
        </div>
      </div>

      <form [formGroup]="form" class="editor">
        <label class="sr-only">Title</label>
        <input formControlName="title" class="input-title" />

        <label class="sr-only">Content</label>
        <textarea formControlName="content" rows="12" class="text-editor"></textarea>

        <div class="editor-footer">
          <button type="button" class="btn-primary" (click)="save()">Save Note</button>
          <button type="button" class="btn-ghost" (click)="cancel()">Cancel</button>
        </div>
      </form>
    </div>

    <ng-template #emptyState>
      <div class="empty">Selecione ou crie uma nota para visualizar/editar.</div>
    </ng-template>
  </main>
</div>